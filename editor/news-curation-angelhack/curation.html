<!DOCTYPE html>
<html>
   <head>
      <title>Notion | Curate Feed</title>
      <link rel="stylesheet" type="text/css" href="css/bulma.css">
      <link rel="stylesheet" href="owl/assets/owl.carousel.min.css">
      <link rel="stylesheet" href="owl/assets/owl.theme.default.min.css">
      <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
      <link rel="stylesheet" type="text/css" href="css/style.css">

   </head>
   <body>
      <nav class="nav" style="border-bottom: 2px solid black;">
         <div class="nav-left">
            <a class="nav-item">
               <h2>NOTION</h2>
            </a>
         </div>
         <div class="nav-center">
            <a class="nav-item">
	            <span class="icon">
	            <i class="fa fa-github"></i>
	            </span>
            </a>
            <a class="nav-item">
	            <span class="icon">
	            <i class="fa fa-twitter"></i>
	            </span>
            </a>
         </div>
         <div class="nav-right nav-menu">
            <a class="nav-item">Home</a>
            <a class="nav-item">Profile</a>
            <a class="nav-item">About</a>
         </div>
      </nav>
      <section class="section">
         <div class="container columns" id="app">
            <div class="column is-3 left-panel">
               <h1 class="title is-1">Aadhaar</h1>
               <h2 class="subtitle is-5">By Samarth Bansal</h2>
               <div class="content is-medium">
                  <p>Curate now!</p>
               </div>
               <br><br>
               <nav class="panel">
                  <p class="panel-heading">
                     Topics
                  </p>
                  <a class="panel-block" data-bind="visible: sectionList().length==0">Nothing so far. Start Adding now!</a>


                  <div data-bind="foreach: sectionList">
<!--                      <a href="" class="panel-block" data-bind="text: sectionHeading"></a>
                     <div class="button"> -->

                     <!-- </div> -->
                     <a class="panel-block" >
                        <span data-bind="text: sectionHeading"></span>
<!--                         <span class="panel-icon" style="margin-left: 75%">
                           <i class="fa fa-times-circle" data-bind="click: removeSection"></i>
                        </span> -->
                        <!-- <span data-bind="text: sectionHeading"></span> -->
                        
                     </a>   
                  </div>

                  <br>
                  <br>

                  <form data-bind="submit: addNewSection">
                     <label class="label section-heading">Section Heading</label>
                     <p class="control">
                        <input class="input" id="sec_name" required>
                     </p>
                     <label class="label section-description">Description</label>
                     <p class="control">
                        <textarea class="input" id="sec_desc" rows="10" style="width: 100%" required>
                        </textarea> 
                     </p>
                     <div id="addSec">
                        <button class = "button" type="submit">Add Section</button>
                     </div>
                  </form>
               </nav>
            </div>
            <div class="column is-9 right-panel">
               <div class="content-wrapper">
                  <h1 class="title is-3">Curation Editor</h1>
                  <h2 class="subtitle is-5">Add sections and link</h2>
                  <hr>
                  <br><br>
                  <div class="noSectionNotice" data-bind="visible: sectionList().length==0">No data yet. Add elements on the right panel to begin curation.</div>

                  <div class="" data-bind="foreach: { data: sectionList, afterRender: carouselFunc}">
                     <div class="car-outer">

                        <div class="content-wrapper section-card has-text-centered" ">
                           <input type="text" class="title is-3 secHeadDynamic" data-bind="textInput: sectionHeading">
                           <br>
                           <!-- <h1 class="title is-3" data-bind="text: sectionHeading"></h1> -->
                           <textarea class="subtitle is-5 headDescDynamic" data-bind="textInput: head_desc" onchange="textAreaAdjust(this)" onkeyup="textAreaAdjust(this)" style="overflow:hidden"></textarea>
                           <hr>
                        </div>

                        <div class="noElementNotice" data-bind="visible: elementList().length==0">No elements for this section yet. Start adding now!</div>

                        <div class="field is-grouped">
                          <p class="control is-expanded">
                            <input class="input" type="text" id="newLink" placeholder="Add a link">
                          </p>
                          <p class="control">
                            <a id="addVar" data-bind="click: addElement" class="button is-info">
                              Add Link
                            </a>
                          </p>
                        </div>

                        <!-- <div data-bind="foreach: elementList"> -->
                        <div data-bind="foreach: { data: elementList, afterRender: renderedHandler}">
                           <div class="content box link-wrapper">
                              <div class="element-section element-edit">
                                 <div class="field element-heading">
                                    <div id="removeVar" data-bind="click: $parent.removeElement" class="button">Remove Element</div>

                                 </div>
                                 <div class="field element-url">
                                    <p class="control">
                                       <textarea class="textarea-bq" data-bind="textInput: linkComment" placeholder="Your comment about this link" onchange="textAreaAdjust(this)" onkeyup="textAreaAdjust(this)"></textarea>
                                    </p>
                                 </div>

                                 <div class="limit">
                                    <a data-bind="attr: {href: linkUrl}" class="embedly-card" data-card-controls="0" data-iframely-url class="limit" onchange="iframely.load();"></a>

                                    <div class="link-preview">
                                       <h1 id="link-description"></h1>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
   <!--                      <div id="addVar" data-bind="click: addElement" class="button">
                           Add element
                        </div> -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
         </div>
         </div>
      </section>
      </script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
      <script src="owl/owl.carousel.min.js"></script>

      <!-- <script src="js/main.js"></script> -->
      <script src="js/app1.js"></script>

      <script async charset="utf-8" src="//cdn.iframe.ly/embed.js?api_key=329520a5255ea60834c299"></script>

   </body>
</html>